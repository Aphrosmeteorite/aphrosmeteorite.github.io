<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.127.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="C++变参模版"><meta itemprop=description content="A brief note about C++ variadic template"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://laplace825.github.io/imgs/kana.png"><meta itemprop=keywords content="C++"><meta property="og:type" content="article"><meta property="og:title" content="C++变参模版"><meta property="og:description" content="A brief note about C++ variadic template"><meta property="og:image" content="/imgs/kana.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://laplace825.github.io/post/cpp-variadic-template/"><meta property="og:site_name" content="lap的小站"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Laplace"><meta property="article:published_time" content="2024-06-16 00:00:00 +0000 UTC"><meta property="article:modified_time" content="2024-06-16 00:00:00 +0000 UTC"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.95e3e4467539ccbfc95e4c2e91f11c57be7967f38f879e7a6ae8112bc850b29f.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"math":{"js":{"file":"es5/tex-mml-chtml.js","name":"mathjax","version":"3.2.0"},"render":"mathjax"},"path":"cpp-variadic-template","permalink":"https://laplace825.github.io/post/cpp-variadic-template/","title":"C++变参模版","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.id="LA_COLLECT",e.src="https://sdk.51.la/js-sdk-pro.min.js",e.async="true",e.onload=function(){LA.init({id:"3HTyuds4Bm5FaDq4",ck:"3HTyuds4Bm5FaDq4",autoTrack:!0})},document.head.appendChild(e)})</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>C++变参模版 - lap的小站</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>lap的小站</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>When the SUN Rises in the EAST</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>友情链接</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>23</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#什么是变参模版>什么是变参模版</a><ul><li><a href=#c-中的可变参数函数><code>C</code> 中的可变参数函数</a></li><li><a href=#c中的变参模版><code>C++</code>中的变参模版</a></li></ul></li><li><a href=#获取变参模版中参数个数>获取变参模版中参数个数</a></li><li><a href=#折叠表达式-since-c-17>折叠表达式 (since C++ 17)</a><ul><li><a href=#定义一个foldprint>定义一个<code>foldPrint</code></a></li><li><a href=#定义一个foldsum>定义一个<code>foldSum</code></a></li><li><a href=#变参下标>变参下标</a></li></ul></li><li><a href=#变参类模版初体验>变参类模版初体验</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Laplace src=/imgs/img-lazy-loading.gif data-src=/imgs/kana.png><p class=site-author-name itemprop=name>Laplace</p><div class=site-description itemprop=description>当太阳从东方升起</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>23</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>8</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>6</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/Laplace825 title="Github → https://github.com/Laplace825" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=laplace_yongle_he@163.com title="E-Mail → laplace_yongle_he@163.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href title target=_blank>暂无 QAQ</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item></div><div id=la-siteinfo-widget style=display:none></div><div class=siteinfo-item><div class=item-name><i class="fa fa-user-plus"></i>今日访问：</div><div class=item-count id=today_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-user-clock"></i>昨日访问：</div><div class=item-count id=yesterday_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-arrows-down-to-people"></i>本月访问：</div><div class=item-count id=month_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-users"></i>总访问量：</div><div class=item-count id=total_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=29598></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=70></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2024-06-26T00:00:00+00:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/laplace825 rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub ฅ( ̳• ◡ • ̳)ฅ" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://laplace825.github.io/post/cpp-variadic-template/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/kana.png"><meta itemprop=name content="Laplace"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Laplace"><meta itemprop=description content="当太阳从东方升起"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="C++变参模版"><meta itemprop=description content="A brief note about C++ variadic template"></span><header class=post-header><h1 class=post-title itemprop="name headline">C++变参模版</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2024-06-16 00:00:00 +0000 UTC" itemprop="dateCreated datePublished" datetime="2024-06-16 00:00:00 +0000 UTC">2024-06-16
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/c++-template-meta-programming itemprop=url rel=index><span itemprop=name>C++/C++ template meta programming</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>2394</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>5分钟</span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><p>这章属于是重点了，而且感觉还挺难掌握各种用法的，不过也是让我感觉魔法的开始✨。</p><h2 id=什么是变参模版>什么是变参模版
<a class=header-anchor href=#%e4%bb%80%e4%b9%88%e6%98%af%e5%8f%98%e5%8f%82%e6%a8%a1%e7%89%88></a></h2><p>变参模版表示的是传入参数可以有无数多个，同时传入参数的类型也可以完全不同。</p><h3 id=c-中的可变参数函数><code>C</code> 中的可变参数函数
<a class=header-anchor href=#c-%e4%b8%ad%e7%9a%84%e5%8f%af%e5%8f%98%e5%8f%82%e6%95%b0%e5%87%bd%e6%95%b0></a></h3><p>在 <code>C</code> 语言中，可以用下面这种方式进行一堆<code>int</code>类型打印。第一个参数是需要传入的参数的个数，第二个则是实际参数。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#7f848e>#include</span> <span style=color:#7f848e>&lt;stdio.h&gt;</span><span style=color:#7f848e>
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#include</span> <span style=color:#7f848e>&lt;stdarg.h&gt;</span><span style=color:#7f848e>
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#61afef;font-weight:700>prints</span>(<span style=color:#e5c07b>int</span> <span style=color:#e06c75>argsNumber</span>, ...)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e06c75>va_list</span> <span style=color:#e06c75>valist</span>;
</span></span><span style=display:flex><span>    <span style=color:#61afef;font-weight:700>va_start</span>(<span style=color:#e06c75>valist</span>, <span style=color:#e06c75>argsNumber</span>);
</span></span><span style=display:flex><span>    <span style=color:#c678dd>for</span> (<span style=color:#e5c07b>int</span> <span style=color:#e06c75>i</span> <span style=color:#56b6c2>=</span> <span style=color:#d19a66>0</span>; <span style=color:#e06c75>i</span> <span style=color:#56b6c2>&lt;</span> <span style=color:#e06c75>argsNumber</span>; <span style=color:#e06c75>i</span><span style=color:#56b6c2>++</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#61afef;font-weight:700>printf</span>(<span style=color:#98c379>&#34;%d &#34;</span>, <span style=color:#61afef;font-weight:700>va_arg</span>(<span style=color:#e06c75>valist</span>, <span style=color:#e5c07b>int</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#61afef;font-weight:700>va_end</span>(<span style=color:#e06c75>valist</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=c中的变参模版><code>C++</code>中的变参模版
<a class=header-anchor href=#c%e4%b8%ad%e7%9a%84%e5%8f%98%e5%8f%82%e6%a8%a1%e7%89%88></a></h3><p><code>C++</code>中变参模版在<code>C</code>的基础上变得更加好用，我们不需要传入参数个数，也可以使用模版使得传入的每个参数的类型都不一样。例如我们可以实现这样一个打印不定个参数的函数。请注意这里不要使用<code>using std::print</code>或者<code>using namespace std</code>，如果需要使用的话，请将下面的代码放在一个命名空间内，防止造成命名空间污染。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>using</span> <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>println</span>;
</span></span><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span> <span style=color:#e06c75>T</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>print</span>(<span style=color:#e06c75>T</span> <span style=color:#e06c75>arg</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>, <span style=color:#e06c75>arg</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span> <span style=color:#e06c75>T</span>, <span style=color:#c678dd>typename</span>... <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>print</span>(<span style=color:#e06c75>T</span> <span style=color:#e06c75>firstArg</span>, <span style=color:#e06c75>Args</span>... <span style=color:#e06c75>args</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>, <span style=color:#e06c75>firstArg</span>);
</span></span><span style=display:flex><span>    <span style=color:#e06c75>print</span>(<span style=color:#e06c75>args</span>...); <span style=color:#7f848e>// 每次把第二个参数及以后传入,直到最后一个参数
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>}
</span></span></code></pre></div><p>在上面的函数中，我们没见过的就是<code>typename... Args</code>，这里就是变参模版的写法，代表一堆类型不定的参数。在函数的参数列表里，<code>Args... </code>我们应该视作一种类型，而<code>args</code>则是所有参数。这里，我们把<code>args</code>称作参数包。上面的打印方法通过递归的方式，每次把第一个参数以后的参数传入递归，一直到最后只剩一个参数时，调用第一个<code>print(T arg)</code>函数，递归结束，完成打印。</p><h2 id=获取变参模版中参数个数>获取变参模版中参数个数
<a class=header-anchor href=#%e8%8e%b7%e5%8f%96%e5%8f%98%e5%8f%82%e6%a8%a1%e7%89%88%e4%b8%ad%e5%8f%82%e6%95%b0%e4%b8%aa%e6%95%b0></a></h2><p>为了直接获取变参模版中参数的个数，<code>C++</code>提供了运算符<code>sizeof...</code>，类似<code>sizeof</code>的用法，只不过这个会返回参数包中的参数个数。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span>... <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>getArgsSize</span>(<span style=color:#e06c75>Args</span>... <span style=color:#e06c75>args</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#7f848e>// sizeof...()返回参数包中的参数个数
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;Args has {} elements&#34;</span>, <span style=color:#c678dd>sizeof</span>...(<span style=color:#e06c75>Args</span>));
</span></span><span style=display:flex><span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;args has {} elements&#34;</span>, <span style=color:#c678dd>sizeof</span>...(<span style=color:#e06c75>args</span>));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在使用时，我们可以发现，不仅仅可以使用<code>sizeof...(args)</code>传入函数参数包，还可以使用<code>sizeof...(Args)</code>传入模版参数包。借助这个运算符，我们可以将上面的<code>print</code>函数用更好的方式实现。当然，还必须使用到从<code>C++17</code>开始支持的<code>if Constexpr</code>。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span> <span style=color:#e06c75>T</span>, <span style=color:#c678dd>typename</span>... <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>betterPrint</span>(<span style=color:#e06c75>T</span> <span style=color:#e06c75>firstArg</span>, <span style=color:#e06c75>Args</span>... <span style=color:#e06c75>args</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>, <span style=color:#e06c75>firstArg</span>);
</span></span><span style=display:flex><span>    <span style=color:#c678dd>if</span> <span style=color:#61afef;font-weight:700>constexpr</span> (<span style=color:#c678dd>sizeof</span>...(<span style=color:#e06c75>Args</span>) <span style=color:#56b6c2>&gt;</span> <span style=color:#d19a66>0</span>) <span style=color:#7f848e>// since C++ 17
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>    {
</span></span><span style=display:flex><span>        <span style=color:#e06c75>betterPrint</span>(<span style=color:#e06c75>args</span>...);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在这个函数里，我们直接使用 <code>if</code> 作条件判断，实际上也就是当参数个数大于1的时候继续递归。但是我们也注意到了这里使用了<code>if constexpr</code>，这是因为当<code>betterPrint</code>只传入一个参数时，编译器会实现<code>if</code>的两个分支，而不存在<code>betterPrint</code>传入0个参数时的函数，所以就会报错 &ldquo;no matching function&rdquo;。而当我们使用了<code>if constexpr</code>时，编译期就能确定好参数个数，也就是不需要把每个分支都进行实例化，此时当<code>args</code>为0个参数时，编译器会直接跳过0个参数的<code>betterPrint</code>分支的实现要求。</p><h2 id=折叠表达式-since-c-17>折叠表达式 (since C++ 17)
<a class=header-anchor href=#%e6%8a%98%e5%8f%a0%e8%a1%a8%e8%be%be%e5%bc%8f-since-c-17></a></h2><h3 id=定义一个foldprint>定义一个<code>foldPrint</code>
<a class=header-anchor href=#%e5%ae%9a%e4%b9%89%e4%b8%80%e4%b8%aafoldprint></a></h3><p>折叠表达式就是真正魔法的开始了，他将原来复杂的递归过程变为了一个简单的表达式。例如在<code>C++17</code>以后，我们的<code>print</code>不需要使用递归进行实现了。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span>... <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>foldPrint</span>(<span style=color:#e06c75>Args</span>... <span style=color:#e06c75>args</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;[foldPrint]&#34;</span>); <span style=color:#7f848e>// 展开参数包
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>    (<span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>, <span style=color:#e06c75>args</span>), ...);
</span></span><span style=display:flex><span>    <span style=color:#7f848e>// 等价于 (... , println(&#34;{}&#34;, args))
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>}
</span></span></code></pre></div><p>第五行就是折叠表达式。这个折叠表达式巧妙使用到了括号表达式的特点，每次从左边开始求值，然后返回最右边的值。如果我们把<code>args</code>作为参数包的第一个开始元素，那么这个括号表达式是从参数包的左边开始，然后一路往右边的参数做同样的操作。但是需要注意，<strong>并不是所有折叠表达式都是这样的运算顺序</strong>。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>,<span style=color:#e06c75>args_1</span>)
</span></span><span style=display:flex><span><span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>,<span style=color:#e06c75>args_2</span>)
</span></span><span style=display:flex><span><span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>,<span style=color:#e06c75>args_3</span>)
</span></span><span style=display:flex><span><span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>,<span style=color:#e06c75>args_4</span>)
</span></span><span style=display:flex><span>.......
</span></span><span style=display:flex><span><span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>,<span style=color:#e06c75>args_n</span>)
</span></span></code></pre></div><h3 id=定义一个foldsum>定义一个<code>foldSum</code>
<a class=header-anchor href=#%e5%ae%9a%e4%b9%89%e4%b8%80%e4%b8%aafoldsum></a></h3><p>我们可以通过折叠表达式进行求和，但在求和之前，请让我们先考虑一下折叠表达式的运算顺序。主要是分为两类，以<code>...</code>和参数包<code>pack</code>的位置分，<code>...</code>在左边为左折叠，右边为右折叠。左折叠就是先从最左边的元素开始算，一直到最右边。右折叠则相反。</p><table><thead><tr><th>Fold Expression</th><th>Evaluation</th></tr></thead><tbody><tr><td>(&mldr; op pack)</td><td>(((pack_1 op pack_2) op pack_3) ··· op pack_N)</td></tr><tr><td>(pack op &mldr;)</td><td>(pack_1 op ( ··· (pack_N-1 op pack_N )))</td></tr><tr><td>(init op &mldr; op pack)</td><td>(((init op pack_1) op pack_2) ··· op pack_N)</td></tr><tr><td>(pack op &mldr; op init)</td><td>(pack_1 op ( ··· (pack_N op init )))</td></tr></tbody></table><p>那么让我们从右边往左求加和。这个是折叠表达式属于右折叠，并且还有一个<code>firstArg</code>在最右边，所以加和情况是上面表格中第四行。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span> <span style=color:#e06c75>T</span>, <span style=color:#c678dd>typename</span>... <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>auto</span> <span style=color:#e06c75>foldSum</span>(<span style=color:#e06c75>T</span> <span style=color:#e06c75>firstArg</span>, <span style=color:#e06c75>Args</span>... <span style=color:#e06c75>args</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#c678dd>if</span> <span style=color:#61afef;font-weight:700>constexpr</span> ((<span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>is_same_v</span><span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>T</span>, <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span> <span style=color:#56b6c2>&amp;&amp;</span> ...))
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>	    <span style=color:#c678dd>auto</span> <span style=color:#e06c75>res</span> <span style=color:#56b6c2>=</span> (<span style=color:#e06c75>args</span> <span style=color:#56b6c2>+</span> ... <span style=color:#56b6c2>+</span> <span style=color:#e06c75>firstArg</span>);
</span></span><span style=display:flex><span>        <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;[foldSum]:{}&#34;</span>, <span style=color:#e06c75>res</span>); <span style=color:#7f848e>// 展开参数包
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>        <span style=color:#c678dd>return</span> <span style=color:#e06c75>res</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#c678dd>else</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#c678dd>throw</span> <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>runtime_error</span>(
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;please input the same type of arguments to sum&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e06c75>foldSum</span>(<span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>string</span>(<span style=color:#98c379>&#34;hello&#34;</span>), <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>string</span>(<span style=color:#98c379>&#34;world&#34;</span>), <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>string</span>(<span style=color:#98c379>&#34;CPP&#34;</span>));
</span></span></code></pre></div><p>这个调用结果是 <code>worldCPPhello</code>。由 <code>pack_N</code> 也就是<code>CPP</code> + <code>hello</code>，得到<code>CPPhello</code>，然后再 <code>world</code> + <code>CPPhello</code>，得到<code>worldCPPhello</code>。
当然你可以使用<code>firstArg + ... + args</code>，得到从左往右解析的结果，即<code>helloworldCPP</code>。
在这里，我们还使用到了另一个折叠表达式用于保证参与加和的所有的参数类型是一致的，否则会抛出一个异常。在这里使用到 <code>std::is_same_v&lt;T, Args> && ...</code>的右折叠表达式，这个表达式的展开结果如下。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>is_same_v</span><span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>T</span>, <span style=color:#e06c75>ArgsType_1</span><span style=color:#56b6c2>&gt;</span> <span style=color:#56b6c2>&amp;&amp;</span> <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>is_same_v</span><span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>T</span>, <span style=color:#e06c75>ArgsType_2</span><span style=color:#56b6c2>&gt;</span> <span style=color:#56b6c2>&amp;&amp;</span> ... <span style=color:#56b6c2>&amp;&amp;</span> <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>is_same_v</span><span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>T</span>, <span style=color:#e06c75>ArgsType_N</span><span style=color:#56b6c2>&gt;</span>
</span></span></code></pre></div><p>当然，我们也可以额外拉一个函数实现参数类型是否全部相同的判断。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span> <span style=color:#e06c75>T</span>, <span style=color:#c678dd>typename</span>... <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>constexpr</span> <span style=color:#e5c07b>bool</span> <span style=color:#e06c75>isSameType</span>(<span style=color:#e06c75>T</span><span style=color:#56b6c2>&amp;&amp;</span>, <span style=color:#e06c75>Args</span><span style=color:#56b6c2>&amp;&amp;</span>...)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#c678dd>return</span> (<span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>is_same_v</span><span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>Args</span>, <span style=color:#e06c75>T</span><span style=color:#56b6c2>&gt;</span> <span style=color:#56b6c2>&amp;&amp;</span> ...);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=变参下标>变参下标
<a class=header-anchor href=#%e5%8f%98%e5%8f%82%e4%b8%8b%e6%a0%87></a></h3><p>我们可以通过传入一组变参下标来访问一个容器中的元素，并把他们打印出来。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>size_t</span>... <span style=color:#e06c75>Indexs</span>, <span style=color:#c678dd>typename</span> <span style=color:#e06c75>Container</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>printValuesTemplate</span>(<span style=color:#c678dd>const</span> <span style=color:#e06c75>Container</span><span style=color:#56b6c2>&amp;</span> <span style=color:#e06c75>container</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#7f848e>// lambda表达式,检查下标是否合法
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>    <span style=color:#c678dd>auto</span> <span style=color:#e06c75>isIndexValid</span> <span style=color:#56b6c2>=</span> [](<span style=color:#c678dd>auto</span> <span style=color:#e06c75>size</span>, <span style=color:#c678dd>auto</span>... <span style=color:#e06c75>index</span>) {
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> ((<span style=color:#e06c75>index</span> <span style=color:#56b6c2>&lt;</span> <span style=color:#e06c75>size</span>) <span style=color:#56b6c2>&amp;&amp;</span> ...);
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>if</span> (<span style=color:#56b6c2>!</span><span style=color:#e06c75>isIndexValid</span>(<span style=color:#e06c75>container</span>.<span style=color:#e06c75>size</span>(), <span style=color:#e06c75>Indexs</span>...))
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#c678dd>throw</span> <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>out_of_range</span>(<span style=color:#98c379>&#34;index out of range&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#7f848e>// 展开参数包,并打印对应的值
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;[printValuesTemplate]&#34;</span>);
</span></span><span style=display:flex><span>    (<span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>, <span style=color:#e06c75>container</span>[<span style=color:#e06c75>Indexs</span>]), ...);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>我们将变参模版移到容器类型之前，然后定义了一个<code>lambda</code>表达式用于判断传入的下标是否越界，由于这里传入的容器通常是运行时才能确定的，例如<code>std::vector</code>等动态容器，所以使用<code>if constexpr</code>的空间受限。当然，我们也可以直接使用<code>std::get</code>。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>size_t</span>... <span style=color:#e06c75>Idx</span>, <span style=color:#c678dd>typename</span> <span style=color:#e06c75>T</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#e06c75>printByIdx</span>(<span style=color:#e06c75>T</span> <span style=color:#e06c75>t</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;[printByIdx]&#34;</span>);
</span></span><span style=display:flex><span>    (<span style=color:#e06c75>println</span>(<span style=color:#98c379>&#34;{}&#34;</span>, <span style=color:#e06c75>std</span><span style=color:#56b6c2>::</span><span style=color:#e06c75>get</span><span style=color:#56b6c2>&lt;</span><span style=color:#e06c75>Idx</span><span style=color:#56b6c2>&gt;</span>(<span style=color:#e06c75>t</span>)), ...);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>std::get</code>在越界时会编译失败，而我们上面写的<code>printValuesTemplate</code>即使越界，编译也是成功的，因为<code>if</code>并不是编译期判断。当然，这个<code>printByIdx</code>只能处理<code>std::tuple</code>、<code>std::array</code>、<code>std::pair</code>等固定大小的容器中提取元素。</p><h2 id=变参类模版初体验>变参类模版初体验
<a class=header-anchor href=#%e5%8f%98%e5%8f%82%e7%b1%bb%e6%a8%a1%e7%89%88%e5%88%9d%e4%bd%93%e9%aa%8c></a></h2><p>例如<code>std::tuple</code>就是一个典型的变参类模版，可以这样声明一个变参类模版。具体细节还需后续章节。</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#c678dd>template</span> <span style=color:#56b6c2>&lt;</span><span style=color:#c678dd>typename</span> ...<span style=color:#e06c75>ElemTypes</span><span style=color:#56b6c2>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>class</span> <span style=color:#e5c07b>Tuple</span>
</span></span></code></pre></div></div><footer class=post-footer><div class=post-tags><a href=/tags/c++>C++</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
C++变参模版</li><li class=post-copyright-author><strong>原文作者： </strong>Laplace</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://laplace825.github.io/post/cpp-variadic-template/ title=C++变参模版>https://laplace825.github.io/post/cpp-variadic-template/</a></li><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=https://github.com//laplace825><span class=icon><i class="fab fa-github"></i>
</span><span class=label>Github</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/use-template-build-index-maker/ rel=next title=C++制作一个编译期整数序列生成器><i class="fa fa-chevron-left"></i> C++制作一个编译期整数序列生成器</a></div><div class="post-nav-prev post-nav-item"><a href=/post/cpp-no-type-param-template/ rel=prev title=C++非类型模版参数>C++非类型模版参数
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2023 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Laplace</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.127.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#22ffff","enable":true,"save":"auto"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"https://laplace825.github.io/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lawidget":{"id":"3HTyuds4Bm5FaDq4","js":"https://v6-widget.51.la/v6/laId/quote.js?theme=0\u0026col=true\u0026f=12\u0026display=0,0,0,1,0,1,1,1"},"lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"zoomInLeft","postblock":"zoomInLeft","postbody":"zoomIn","postheader":"bounceIn","sidebar":"zoomInLeft"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":false,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.6228d9afd7b7494bfb6217bc4d0e699c417e44dbb72244b7fd9ad5391eea0c55.js defer></script><script type=text/javascript src=/js/math.min.a6ada19a368d85dad9ead2040d86ae561a867fafef89391d1aa2aa5909366509.js defer></script></body></html>